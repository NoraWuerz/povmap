% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepost_estimation_helpers.R
\name{ebp_reportdescriptives}
\alias{ebp_reportdescriptives}
\title{Create Descriptive Statistics for Small Area Estimation Report}
\usage{
ebp_reportdescriptives(
  model,
  direct,
  smp_data,
  smp_weights = NULL,
  pop_weights = NULL,
  CV_level,
  pop_data,
  threshold = NULL,
  pop_domains
)
}
\arguments{
\item{model}{an object returned by the ebp function of type "emdi ebp",
representing point and MSE estimates}

\item{direct}{an object of type "direct","emdi", representing point
and MSE estimates.}

\item{smp_data}{sample data}

\item{smp_weights}{the sample weight variable in the household dataset
(i.e. the training data), include column of 1s (DO NOT LEAVE UNSPECIFIED)}

\item{pop_weights}{the population weight variable in the census (or synthetic)
census dataset (i.e. the test data), include column of 1s (NO NOT LEAVE
UNSPECIFIED)}

\item{CV_level}{the variable level at which Coefficient of Variation should
be computed}

\item{pop_data}{the population/census/training data}

\item{threshold}{a number defining a threshold. The  argument defaults to
\code{NULL}. In this case, the threshold is set to 60\% of the median of the
variable that is selected as dependent variable similary to the
at-risk-of-poverty rate used in the EU (see also
\cite{Social Protection  Committee 2001}). However, any desired threshold can
be chosen.}

\item{pop_domains}{the target area variable within `pop_data`}
}
\description{
This function estimates the coefficient of variation at level specified,
basic statistics such number of units, regions and target areas as well as
the threshold on which SAE is applied and the outcome indicator of interest
(i.e. poverty line and poverty rate). These indicators are all expressed for
the census and survey
}
\examples{
data("eusilcA_pop2")
data("eusilcA_smp2")
#### set of variables used in model estimation
variables <- c("gender", "eqsize", "cash", "self_empl",
              "unempl_ben", "age_ben", "surv_ben",
              "sick_ben", "dis_ben", "rent", "fam_allow",
              "house_allow", "cap_inv", "tax_adj")

### estimate a unit model
emdi_model <- ebp(fixed = as.formula(paste("eqIncome ~ ", paste(variables,
                                                                         collapse= "+"))),
                           pop_data = eusilcA_pop2,
                           pop_domains = "district",
                           smp_data = eusilcA_smp2,
                           smp_domains = "district",
                           na.rm = TRUE,
                           weights = "weight",
                           pop_weights = "popweights",
                           MSE = TRUE,
                           threshold = 11000,
                           B = 2,
                           L = 2)

### model estimation
ebp_reportdescriptives(model = emdi_model,
                      smp_weights = "weight",
                      pop_weights = "popweights",
                      CV_level = "state",
                      welfare = "eqIncome",
                      smp_data = eusilcA_smp2,
                      pop_data = eusilcA_pop2,
                      threshold = 11000,
                      pop_domains = "district",
                      smp_domains = "district")



}
